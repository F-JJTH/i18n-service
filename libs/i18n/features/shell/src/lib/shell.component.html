<nz-spin *ngIf="!hasCurrentSession" [nzTip]="'LOADING' | translate" [nzSpinning]="true"></nz-spin>

<nz-layout *ngIf="hasCurrentSession">
  <nz-header>
    <div class="left">
      <div class="logo"><i nz-icon nzType="translation" nzTheme="outline"></i></div>
      <div class="app-name">{{ 'APP_NAME' | translate }}</div>
    </div>
    <div class="center"></div>
    <div class="right">
      <kizeo-i18n-client-language-selector></kizeo-i18n-client-language-selector>
      <button nz-button nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
        {{ user.attributes.email }}
        <i nz-icon nzType="down"></i>
      </button>
      <nz-dropdown-menu #menu="nzDropdownMenu">
        <ul nz-menu>
          <li nz-menu-item (click)="logout()">{{ 'LOGOUT' | translate }}</li>
          <li nz-menu-divider></li>
          <li nz-menu-item nzDisabled class="text-center">{{ 'APP_VERSION' | translate: {version: environment.version} }}</li>
        </ul>
      </nz-dropdown-menu>
    </div>
  </nz-header>

  <router-outlet></router-outlet>
</nz-layout>