<nz-content>
  <header>
    <div nz-row>
      <div nz-col nzSpan="16">
        <nz-alert nzType="info" [nzMessage]="'USE_TAB_KEY_TO_SWITCH_BETWEEN_FIELDS' | translate" nzShowIcon></nz-alert>
      </div>
      <div nz-col nzSpan="8" class="text-right">
        <button *ngIf="!!modifiedTranslationItems.size"
          nz-button
          (click)="onSaveTranslationsClicked()"
          nzType="primary"
          [nzLoading]="isSaving">
          <i nz-icon nzType="save" nzTheme="outline"></i> {{ 'SAVE' | translate }}
        </button>
      </div>
    </div>
  </header>

  <nz-table #table [nzData]="translations" nzSize="middle" [nzPageSize]="25">
    <thead>
      <tr>
        <th>{{ 'DEFAULT_VALUE' | translate }}
          <nz-badge
            nzStandalone
            [nzOverflowCount]="99999"
            [nzCount]="translations.length"
            [nzStyle]="{ backgroundColor: '#fff', color: '#999', boxShadow: '0 0 0 1px #d9d9d9 inset' }"
          ></nz-badge>
        </th>
        <th nzWidth="220px">
          <kizeo-select-language name="selectedLanguage"
          nz-tooltip
          [nzTooltipTitle]="'SAVE_YOUR_MODIFICATIONS_BEFORE_MODIFY_LIST' | translate"
          [nzTooltipTrigger]="!!modifiedTranslationItems.size ? 'hover' : null"
          [disabled]="!!modifiedTranslationItems.size"
          [(ngModel)]="selectedLanguages"
          [excludeLanguages]="languageCodesToExclude"
          (ngModelChange)="onFilterTranslationChanged()"
          mode="multiple"></kizeo-select-language>
        </th>
        <th>{{ 'TRANSLATION' | translate }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let translation of table.data" [class.warning]="translation.isRequireTranslatorAction">
        <td>
          <p class="slug">{{ translation.slug }}</p>
          <p class="m-0">{{ translation.defaultValue }}</p>
        </td>
        <td>{{ translation.language.name }}</td>
        <td>
          <input nz-input 
          [(ngModel)]="translation.value"
          [name]="translation.slug+translation.language.code"
          (ngModelChange)="onTranslationChanged(translation)">
        </td>
      </tr>
    </tbody>
  </nz-table>
</nz-content>